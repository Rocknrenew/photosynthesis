<!DOCTYPE html>
<html lang="en">
<head>

<!--

word.camera image-to-text translator
Copyright  (C) 2015  Ross Goodwin
 
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
 
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
 
You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
You can contact Ross Goodwin at ross.goodwin@gmail.com or address
physical correspondence to:
 
Ross Goodwin c/o ITP
721 Broadway
4th Floor
New York, NY 10003

-->


	<meta charset="UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Babbles text generated from your images.">
	<meta name="author" content="Ross Goodwin">
	<title>word.camera</title>

<link rel="apple-touch-icon" sizes="57x57" href="/static/fav/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/static/fav/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/static/fav/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/static/fav/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/static/fav/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/static/fav/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/static/fav/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/static/fav/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/static/fav/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/static/fav/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/static/fav/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/static/fav/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/static/fav/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/static/fav/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/static/fav/manifest.json">
<link rel="shortcut icon" href="/static/fav/favicon.ico">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/fav/mstile-144x144.png">
<meta name="msapplication-config" content="/static/fav/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<link href='http://fonts.googleapis.com/css?family=Cousine:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

	<!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- Optional theme -->
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"> -->

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- Custom styles for this template -->
    <link href="/static/css/cover.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

<style>

#p5canvas {
  z-index: 100;
  width:100%;
  height:100%;
  top:0;
  left:0;
  display:none;
  position:fixed;
  background-color: #F2F1EF;
  overflow:auto;
}

#selfie {
  z-index: 100;
  width:100%;
  height:100%;
  top:0;
  left:0;
  display:block;
  position:fixed;
  background-color: #F2F1EF;
  overflow:auto;
}

#loadvid {
  width: 900px;
  height: 600px;
  margin: auto;
}

.submit {
	text-align: center;
}

.round {
	border-radius: 20%;
}

label.btn input[type="file"] {
    position: fixed;
    top: -1000px;
}

.aj {
  border: 2px solid #FFFFFF;
}

.aj:hover {
  border: 2px solid #FFFFFF;
  background-color: #E08283;
}

.custom-font {
	font-family: "Cousine", monospace;
	/*text-align: left;*/
}

.align-center {
	/*text-align: right;*/
	padding-bottom: 25px;
}

.left-align {
  /*text-align: left;*/
}

.green-text {
	color: #87D37C;
}

.top-space {
	padding-top: 25px;
}

a.underline-links {
	text-decoration: underline;
}

.shadow {
  background-color: rgba(51, 51, 51, 0.8);
}

.xtra-small {
  font-size: 14px;
  margin-top: -15px;
}

.red-text {
  color: #EF4836;
}

loadingdiv {
  display: none;
}

#video {
  border: 1px solid black;
  box-shadow: 2px 2px 3px black;
  width:320px;
  height:240px;
}

#photo {
  border: 1px solid black;
  box-shadow: 2px 2px 3px black;
  width:320px;
  height:240px;
}

#canvas {
  display:none;
}

.camera {
  width: 340px;
  display:block;
  margin: 100px auto 0px auto;
}

.output {
  width: 340px;
  display:block;
}

#startbutton {
  display:block;
  position:relative;
  margin-left:auto;
  margin-right:auto;
  bottom:32px;
/*background-color: rgba(0, 150, 0, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.7);
  box-shadow: 0px 0px 1px 2px rgba(0, 0, 0, 0.2);
  font-size: 14px;
  font-family: "Lucida Grande", "Arial", sans-serif;
  color: rgba(255, 255, 255, 1.0);*/
}

.contentarea {
  font-size: 16px;
  font-family: "Lucida Grande", "Arial", sans-serif;
  width: 760px;
}

</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50113889-10', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body>

<div id="p5canvas"></div>

<div class="site-wrapper custom-font">

      <div class="site-wrapper-inner">

        <div class="cover-container shadow">

          <div class="masthead clearfix">
            <div class="inner">
              <!-- <h3 class="masthead-brand">VIDEO PIZZA</h3> -->
              <!-- <nav>
                <ul class="nav masthead-nav">
                  <li class="active"><a href="#">Home</a></li>
                  <li><a href="#">About</a></li>
                </ul>
              </nav> -->
            </div>
          </div>

          <div class="inner cover">
            <!-- <h4 class="cover-heading align-center">v. 0.1.1</h4> -->
            <p class="lead">
<!--             <form method="post" action="sum" id="video-url-submit">
              <div class="urlbox">
                <input name="videourl" type="text" size=50 maxlength=200 placeholder="Type Video URL Here" tabindex="1"/>
              </div>
              <div class="submit">
                <button class="btn btn-lg btn-danger" type="submit" tabindex="1" onclick="divShow()">Make GIF Summary</button>
              </div>
            </form> -->
            <div class="submit">
	            <form id="form" action="img" method="post" enctype="multipart/form-data">
	            	<label class="btn btn-lg btn-danger round aj">
      						<input type="file" capture="camera" accept="image/*" id="file" name="file">
      						<img src="/static/assets/capture_icon.png">
      					</label>
      				</form>
      			</div>
            </p>
            <p class="lead top-space left-align">Click the <span class="red-text">red button</span> to make a lexograph.</p>
            <p class="xtra-small"><em>
            The generator may take up to 5 minutes to translate your image into text.
            </em></p>
            <p class="top-space left-align">
            <a href="http://rossgoodwin.com">Ross Goodwin</a>, 2015 | <a href="https://github.com/rossgoodwin/photosynthesis">GitHub</a>
            </p>
          </div>

          <div class="mastfoot">
            <div class="inner">
              <!-- <p>Cover template for <a href="http://getbootstrap.com">Bootstrap</a>, by <a href="https://twitter.com/mdo">@mdo</a>.</p> -->
            </div>
          </div>

        </div>

      </div>

    </div>

<script>

function divShow() {
  document.getElementById('p5canvas').style.display = "block";
}

function divHide() {
  document.getElementById('p5canvas').style.display = "none";
}

document.getElementById("file").onchange = function() {
    document.getElementById("form").submit();
    divShow();
    loop();
};

</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script src="/static/js/libs/p5.min.js" type="text/javascript"></script>
<script src="/static/js/libs/p5.dom.js" type="text/javascript"></script>

<script>

// function loadscreen() {
//   if (document.getElementById("ti1").value != "") {
//     loop();
//   }
// }

var i = 0;
var statusList = ['init convo net', 'analyzing image', 'generating tags', 'init conceptnet db', 'making coffee', 'lexical assoc queries', 'assembling sentences', 'drinking coffee', 'assembling sentences', 'smoking cigarettes', 'assembling sentences', 'drinking coffee', 'consulting templates', 'drinking whiskey', 'assembling sentences', 'drinking whiskey', 'assembling sentences', 'mutating PPNs', 'mumbling unintelligibly', 'assembling sentences', 'rationalizing life choices', 'assembling sentences', 'smoking cigarettes', 'consulting template engine', 'drinking whiskey', 'reticulating splines', 'borkulating', 'reticulating splines', 'reborkulating'];
var onScreen = [];
var rhb = [];
var imgCount = 0;

function preload() {
  for (n=0;n<14;n++) {
    rhb[n] = loadImage("/static/assets/rhb/"+n+".png");
  }
}

function setup() {
  var myCanvas = createCanvas(500, 1500);
  myCanvas.parent('p5canvas');
  noLoop();
}

function draw() {
  background(242, 241, 239);

  if (i >= statusList.length) {
    i = 18;
  }
  var currentStatus = statusList[i];

  fill(242, 38, 19);
  noStroke();
  textSize(18);
  textFont("Monospace");
  
  image(rhb[imgCount], 0, 0);

  if (frameCount > 0) {
    text(currentStatus, 15, 270);
  }  

  imgCount++;
  if (imgCount > 13) {
  	imgCount = 0;
  }

  var k = 0;
  for (j=onScreen.length - 1; j>=0; j--) {
    text(onScreen[j], 15, 290+20*k);
    k++;
  }
  
  var x = Math.random() >= 0.3;
  if (frameCount > 0 && frameCount % 60 === 0 && x) {
    i++;
    append(onScreen, currentStatus);
  }
}

</script>

</body>
</html>